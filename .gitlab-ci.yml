image: python:3.7-slim

stages:
    -   test
#    -   build
#    -   release

python3.6:
    image:
        python:3.6.9-slim
    before_script:
        -   python -m pip install -r requirements.txt
    script:
        -   PYTHONPATH=. pytest test
    stage:
        test

python3.7:
    image:
        python:3.7.4-slim
    before_script:
        -   python -m pip install -r requirements.txt
    script:
        -   PYTHONPATH=. pytest test
    stage:
        test

#bdist_wheel:
#    stage:
#        build
#    script:
#        -   python setup.py bdist_wheel
#    artifacts:
#        paths:
#            -   dist/*.whl
